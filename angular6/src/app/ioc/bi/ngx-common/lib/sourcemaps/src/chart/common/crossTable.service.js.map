{"version":3,"sources":["src/chart/common/crossTable.service.ts"],"names":[],"mappings":"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","file":"../../../../src/chart/common/crossTable.service.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as $ from 'jquery';\r\nimport * as _ from 'lodash';\r\n@Injectable()\r\n\r\nexport class CrossTableService {\r\n\r\n    constructor(\r\n        private translateService: TranslateService\r\n    ){}\r\n    \r\n    isRender;\r\n    container;\r\n    public table(args) {\r\n        var data = args.data,\r\n            chartConfig = args.chartConfig,\r\n            tall = args.tall,\r\n            pageDataNum = 20,\r\n            drill = args.drill,\r\n            random = Math.random().toString(36).substring(2),\r\n            container = args.container;\r\n        var html = \"<table class = 'table_wrapper' id='tableWrapper\" + random + \"'><thead class='fixedHeader'>\",\r\n            colContent = \"<tr>\";\r\n\r\n        this.isRender = /(\\/render\\.html$)/.test(location.pathname);\r\n        this.container = $(container);\r\n        for (var i = 0; i < chartConfig.groups.length; i++) {\r\n            var groupId = chartConfig.groups[i].id;\r\n            var colspan = 1;\r\n            var colList = [];\r\n            for (var t = 0; t < chartConfig.keys.length; t++) {\r\n                colContent += \"<th class=\" + data[i][t].property + \"><div></div></th>\";\r\n            }\r\n            for (var y = chartConfig.keys.length; y < data[i].length; y++) {\r\n                if ((data[i][y + 1]) && (data[i][y].data == data[i][y + 1].data)) {\r\n                    if (i > 0) {\r\n                        var noEqual = false;\r\n                        for (var s = i - 1; s > -1; s--) {\r\n                            if (data[s][y].data != data[s][y + 1].data) {\r\n                                noEqual = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (noEqual) {\r\n                            colList.push({\r\n                                data: data[i][y].data,\r\n                                colSpan: colspan,\r\n                                property: data[i][y].property\r\n                            });\r\n                            colspan = 1;\r\n                        }\r\n                        else {\r\n                            colspan++;\r\n                        }\r\n                    }\r\n                    else if (i == 0) {\r\n                        colspan++;\r\n                    }\r\n                }\r\n                else {\r\n                    data[i][y] != data[i][y - 1] ? colList.push({\r\n                        data: data[i][y].data,\r\n                        colSpan: colspan,\r\n                        property: data[i][y].property\r\n                    }) : null;\r\n                    colspan = 1;\r\n                }\r\n            }\r\n            for (var c = 0; c < colList.length; c++) {\r\n                var d = \"\"\r\n                if (drill && drill.config[groupId] && (drill.config[groupId].down || drill.config[groupId].up)) {\r\n                    d += \"class='table_drill_cell'\";\r\n                    if (drill.config[groupId].down) {\r\n                        d += \" drill-down='\" + groupId + \"' \";\r\n                    }\r\n                    if (drill.config[groupId].up) {\r\n                        d += \" drill-up='\" + groupId + \"' \";\r\n                    }\r\n                }\r\n                var value = \"<div \" + d + \">\" + colList[c].data + \"</div>\";\r\n                colContent += colList[c].colSpan > 1 ? \"<th colspan=\" + colList[c].colSpan +\r\n                    \" class=\" + colList[c].property + \">\" + value + \"</th>\" :\r\n                    \"<th class=\" + colList[c].property + \">\" + value + \"</th>\";\r\n            }\r\n            colContent += \"</tr><tr>\";\r\n        }\r\n        for (var k = 0; k < data[chartConfig.groups.length].length; k++) {\r\n            colContent += \"<th class=\" + data[chartConfig.groups.length][k].property + \"><div>\" + data[chartConfig.groups.length][k].data + \"</div></th>\";\r\n        }\r\n        html += colContent + \"</tr></thead><tbody class='scrollContent'>\";\r\n        var headerLines = chartConfig.groups.length + 1;\r\n        var dataPage = this.paginationProcessData(data, headerLines, pageDataNum);\r\n        var colNum = data[0].length;\r\n        var rowNum = colNum ? data.length - headerLines : 0;\r\n        var trDom = this.render(dataPage[0], chartConfig, drill);\r\n        html = html + trDom + \"</tbody></table>\";\r\n        var optionDom = \"<select><option value='20'>20</option><option value='50'>50</option><option value='100'>100</option><option value='150'>150</option></select>\";\r\n        var p_class = \"p_\" + random;\r\n        var PaginationDom = \"<div class='\" + p_class + \"'><div class='optionNum'><span>\" + this.translateService.instant(\"CROSS_TABLE.SHOW\") + \"</span>\" + optionDom + \"<span>\" + this.translateService.instant(\"CROSS_TABLE.ENTRIES\") + \"</span></div><div class='page'><ul></ul></div></div>\";\r\n        var operate = \"<div class='toolbar toolbar\" + random + \"'><span class='info'><b>info: </b>\" + rowNum + \" x \" + colNum + \"</span>\" +\r\n            \"<span class='exportBnt fa fa-file-export float-right' style='margin: 5px; cursor: pointer' title='\" + this.translateService.instant(\"CROSS_TABLE.EXPORT\") + \"'></span></div>\";\r\n        $(container).html(operate);\r\n        $(container).append(\"<div class='tableView table_\" + random + \"' style='width:99%;max-height:\" + tall + \"px;overflow:auto'>\" + html + \"</div>\");\r\n        if(!this.isRender) {\r\n            var $select = $(container).append(PaginationDom).find('.optionNum select');\r\n            var pageObj = {\r\n                data: dataPage,\r\n                chartConfig: chartConfig,\r\n                drill: drill\r\n            };\r\n\r\n            $select.val(pageDataNum);\r\n            data.length ? this.renderPagination(dataPage.length, 1, pageObj, $('.' + p_class + ' .page>ul')[0]) : null;\r\n            this.clickPageNum(dataPage, chartConfig, drill, p_class);\r\n            this.clickNextPrev(dataPage.length, pageObj, p_class);\r\n            this.selectDataNum(data, chartConfig.groups.length + 1, chartConfig, drill, p_class, \"table_\" + random, args.render);\r\n            this.export(random, data);\r\n        }\r\n    };\r\n\r\n    public bandDrillEvent(t_class, drill, render) {\r\n        $('.' + t_class + ' .table_drill_cell[drill-down]').click(function(){\r\n            var down = $(this).attr('drill-down');\r\n            var value = $(this).html();\r\n            drill.drillDown(down, value, render);\r\n        });\r\n        if($&&$.contextMenu && _.isFunction($.contextMenu)) {\r\n            $.contextMenu({\r\n                selector: '.' + t_class + ' .table_drill_cell',\r\n                build: function ($trigger, e) {\r\n                    var down = $trigger.attr('drill-down');\r\n                    var up = $trigger.attr('drill-up');\r\n                    var value = $trigger.html();\r\n                    var items: any = {};\r\n                    if (up) {\r\n                        items.up = {name: this.translateService.instant(\"COMMON.ROLL_UP\"), icon: \"fa-arrow-up\"}\r\n                    }\r\n                    if (down) {\r\n                        items.down = {name: this.translateService.instant(\"COMMON.DRILL_DOWN\"), icon: \"fa-arrow-down\"}\r\n                    }\r\n                    return {\r\n                        callback: function (key, options) {\r\n                            if ('up' == key) {\r\n                                drill.drillUp(up, render);\r\n                            } else if ('down' == key) {\r\n                                drill.drillDown(down, value, render);\r\n                            }\r\n                        },\r\n                        items: items\r\n                    };\r\n                }\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    public paginationProcessData(rawData, headerLines, pageSize) {\r\n        var dataLength = rawData.length - headerLines;\r\n        var lastPageLines = pageSize === 0 ? dataLength : (dataLength % pageSize);\r\n        var fullSizePages = pageSize === 0 ? 0 : parseInt(''+dataLength / +pageSize);\r\n        var totalPages;\r\n        lastPageLines == 0 ? totalPages = fullSizePages : totalPages = fullSizePages + 1;\r\n        var pageData = [];\r\n        var $view = this.container.find('.tableView');\r\n\r\n        if(this.isRender) {\r\n            pageData.push(rawData.slice(1, rawData.length - 1));\r\n            $view.data('maxHeight', $view.css('maxHeight'));\r\n            $view.css('maxHeight', 'none');\r\n        } else {\r\n            $view.css('maxHeight', $view.data('maxHeight'));\r\n            for (var currentPage = 1; currentPage < totalPages + 1; currentPage++) {\r\n                var startRow = (currentPage - 1) * pageSize + headerLines;\r\n                var partData = rawData.slice(startRow, startRow + pageSize);\r\n                pageData.push(partData);\r\n            }\r\n        }\r\n\r\n        return pageData;\r\n    };\r\n\r\n    public render(data, chartConfig, drill) {\r\n        var html = '';\r\n        if (data === undefined) {\r\n            return html;\r\n        }\r\n        for (var r = 0; r < chartConfig.keys.length; r++) {\r\n            for (var n = 1; n < data.length; n++) {\r\n                var node = data[n][r].data;\r\n                if (r > 0) {\r\n                    var parent = data[n][r - 1].data;\r\n                    var next;\r\n                    n > 0 ? next = data[n - 1][r - 1].data : null;\r\n                    (node == data[n - 1][r].data && parent == next) ? data[n][r] = {\r\n                        data: data[n][r].data,\r\n                        rowSpan: 'row_null',\r\n                        property: data[n][r].property\r\n                    } : data[n][r] = {\r\n                        data: data[n][r].data,\r\n                        rowSpan: 'row',\r\n                        property: data[n][r].property\r\n                    };\r\n                }\r\n                else if (r == 0) {\r\n                    var preNode = n > 0 ? data[n - 1][r].data : null;\r\n                    (node == preNode) ? data[n][r] = {\r\n                        data: data[n][r].data,\r\n                        rowSpan: 'row_null',\r\n                        property: data[n][r].property\r\n                    } : data[n][r] = {\r\n                        data: data[n][r].data,\r\n                        rowSpan: 'row',\r\n                        property: data[n][r].property\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        for (var n = 0; n < data.length; n++) {\r\n            var rowContent = \"<tr>\";\r\n            var isFirstLine = (n == 0) ? true : false;\r\n            for (var m = 0; m < chartConfig.keys.length; m++) {\r\n                var currentCell = data[n][m];\r\n                var rowParentCell = data[n][m - 1];\r\n                var cur_data = currentCell.data ? currentCell.data : \"\";\r\n                var keyId = chartConfig.keys[m].id;\r\n                var align = chartConfig.keys[m].align;\r\n                if (drill && drill.config[keyId] && (drill.config[keyId].down || drill.config[keyId].up)) {\r\n                    var d = \"\";\r\n                    if (drill.config[keyId].down) {\r\n                        d += \" drill-down='\" + keyId + \"' \";\r\n                    }\r\n                    if (drill.config[keyId].up) {\r\n                        d += \" drill-up='\" + keyId + \"' \";\r\n                    }\r\n                    cur_data = \"<div class='table_drill_cell' \" + d + \">\" + cur_data + \"</div>\";\r\n                }\r\n                if (m > 0) {\r\n                    if (currentCell.rowSpan == 'row_null' && rowParentCell.rowSpan == 'row_null' && !isFirstLine) {\r\n                        rowContent += \"<th class=row_null><div></div></th>\";\r\n                    } else {\r\n                        rowContent += \"<th style='text-align:\"+align+\"' class=row><div>\" + cur_data + \"</div></th>\";\r\n                    }\r\n                } else {\r\n                    if (currentCell.rowSpan == 'row_null' && !isFirstLine) {\r\n                        rowContent += \"<th class=row_null><div></div></th>\";\r\n                    } else {\r\n                        rowContent += \"<th style='text-align:\"+align+\"' class=row><div>\" + cur_data + \"</div></th>\";\r\n                    }\r\n                }\r\n            }\r\n            for (var y = chartConfig.keys.length; y < data[n].length; y++) {\r\n                var align = chartConfig.values[0].cols[(y-chartConfig.keys.length)%chartConfig.values[0].cols.length].align;\r\n                rowContent += \"<td style='text-align:\"+align+\"'class=\" + data[n][m].property + \"><div>\" + data[n][y].data + \"</div></td>\";\r\n            }\r\n            html = html + rowContent + \"</tr>\";\r\n        }\r\n        return html;\r\n    };\r\n\r\n    public selectDataNum(data, num, chartConfig, drill, random, t_class, render) {\r\n        var _this = this;\r\n        $('.' + random).on('change', '.optionNum select', function (e: any) {\r\n            var pageDataNum = parseInt(e.target.value);\r\n            var dataPage = _this.paginationProcessData(data, num, pageDataNum);\r\n\r\n            var dom = $(e.target.offsetParent).find('.page>ul')[0];\r\n            var tbody = $(e.target.offsetParent).find('tbody')[0];\r\n            tbody.innerHTML = (_this.render(dataPage[0], chartConfig, drill));\r\n            _this.renderPagination(dataPage.length, 1, null, dom);\r\n            $('.' + random).off('click');\r\n            _this.clickPageNum(dataPage, chartConfig, drill, random);\r\n            var pageObj = {\r\n                data: dataPage,\r\n                chartConfig: chartConfig,\r\n                drill: drill\r\n            };\r\n            _this.clickNextPrev(dataPage.length, pageObj, random);\r\n        });\r\n        _this.bandDrillEvent(t_class, drill, render);\r\n    };\r\n\r\n    public clickPageNum(data, chartConfig, drill, random) {\r\n        var _this = this;\r\n        $('.' + random).on('click', 'a.pageLink', function (e: any) {\r\n            var pageNum = e.target.innerText - 1;\r\n            var pageObj = {\r\n                data: data,\r\n                chartConfig: chartConfig,\r\n                drill: drill\r\n            };\r\n\r\n            var dom = $(e.target.offsetParent).find('.page>ul')[0];\r\n            var tbody = $(e.target.offsetParent).find('tbody')[0];\r\n            tbody.innerHTML = _this.render(data[pageNum], chartConfig, drill);\r\n            _this.renderPagination(data.length, parseInt(e.target.innerText), pageObj, dom);\r\n        });\r\n    };\r\n\r\n    public renderPagination(pageCount, pageNumber, pageObj, target) {\r\n        if (pageCount == 1) {\r\n            return  target.innerHTML = '';\r\n        }\r\n        var liStr = '<li><a class=\"previewLink\">' + this.translateService.instant(\"CROSS_TABLE.PREVIOUS_PAGE\") + '</a></li>';\r\n        if (pageCount < 10) {\r\n            for (var a = 0; a < pageCount; a++) {\r\n                liStr += '<li><a class=\"pageLink\">' + (a + 1) + '</a></li>';\r\n            }\r\n        }\r\n        else {\r\n            if (pageNumber < 6) {\r\n                for (var a = 0; a < pageNumber + 2; a++) {\r\n                    liStr += '<li><a class=\"pageLink\">' + (a + 1) + '</a></li>';\r\n                }\r\n                liStr += '<li class=\"disable\"><span class=\"ellipse\">...</span></li>';\r\n                for (var i = pageCount - 2; i < pageCount; i++) {\r\n                    liStr += '<li><a class=\"pageLink\">' + (i + 1) + '</a></li>';\r\n                }\r\n            } else if (pageNumber <= (pageCount - 5)) {\r\n                for (var c = 0; c < 2; c++) {\r\n                    liStr += '<li><a class=\"pageLink\">' + (c + 1) + '</a></li>';\r\n                }\r\n                liStr += '<li class=\"disable\"><span class=\"ellipse\">...</span></li>';\r\n                for (var j = pageNumber - 2; j < pageNumber + 3; j++) {\r\n                    liStr += '<li><a class=\"pageLink\">' + j + '</a></li>';\r\n                }\r\n                liStr += '<li class=\"disable\"><span class=\"ellipse\">...</span></li>';\r\n                for (var i = pageCount - 2; i < pageCount; i++) {\r\n                    liStr += '<li><a class=\"pageLink\">' + (i + 1) + '</a></li>';\r\n                }\r\n            } else {\r\n                for (var c = 0; c < 2; c++) {\r\n                    liStr += '<li><a class=\"pageLink\">' + (c + 1) + '</a></li>';\r\n                }\r\n                liStr += '<li class=\"disable\"><span class=\"ellipse\">...</span></li>';\r\n                for (var i = pageNumber - 2; i < pageCount + 1; i++) {\r\n                    liStr += '<li><a class=\"pageLink\">' + i + '</a></li>';\r\n                }\r\n            }\r\n        }\r\n        liStr += '<li><a class=\"nextLink\">' + this.translateService.instant(\"CROSS_TABLE.NEXT_PAGE\") + '</a></li>';\r\n        if (target) {\r\n            target.innerHTML = liStr;\r\n            if (pageNumber == 1) {\r\n                target.childNodes[0].setAttribute('class', 'hide');\r\n            } else if (pageNumber == pageCount) {\r\n                target.childNodes[target.childNodes.length - 1].setAttribute('class', 'hide');\r\n            }\r\n            this.buttonColor(pageNumber, target);\r\n        }\r\n        // else {\r\n        //     $('.page>ul').html(liStr);\r\n        //     if (pageNumber == 1) {\r\n        //         $('.page a.previewLink').addClass('hide');\r\n        //     } else if (pageNumber == pageCount) {\r\n        //         $('.page a.nextLink').addClass('hide');\r\n        //     }\r\n        //     this.buttonColor(pageNumber);\r\n        //     this.clickNextPrev(pageCount, pageObj);\r\n        // }\r\n    };\r\n\r\n    public buttonColor(pageNum, target) {\r\n        if (target) {\r\n            var buttons = target.childNodes;\r\n            for (var i = 0; i < buttons.length; i++) {\r\n                buttons[i].childNodes[0].innerText == pageNum ? $(buttons[i].childNodes[0]).addClass('current') : null;\r\n            }\r\n        }\r\n    };\r\n\r\n    public clickNextPrev(pageCount, pageObj, random) {\r\n        var _this = this;\r\n        $('.' + random).on('click', '.page a.previewLink', function (e) {\r\n            var kids: any = e.target.parentNode.parentNode.childNodes;\r\n            var dom = e.target.parentNode.parentNode.parentNode.childNodes[0];\r\n            var tbody = $(e.target.offsetParent).find('tbody')[0];\r\n\r\n            for (var i = 0; i < kids.length; i++) {\r\n                if (kids[i].childNodes[0].className.indexOf('current') > -1) {\r\n                    var pageNum = parseInt(kids[i].childNodes[0].text) - 1;\r\n                }\r\n            }\r\n            tbody.innerHTML = _this.render(pageObj.data[pageNum - 1], pageObj.chartConfig, pageObj.drill);\r\n            _this.renderPagination(pageCount, pageNum, pageObj, dom);\r\n            //_this.clickPageNum(pageObj.data, pageObj.chartConfig);\r\n        });\r\n        $('.' + random).on('click', '.page a.nextLink', function (e) {\r\n            var kids: any = e.target.parentNode.parentNode.childNodes;\r\n            var dom = e.target.parentNode.parentNode.parentNode.childNodes[0];\r\n            var tbody = $(e.target.offsetParent).find('tbody')[0];\r\n\r\n            for (var i = 0; i < kids.length; i++) {\r\n                if (kids[i].childNodes[0].className.indexOf('current') > -1) {\r\n                    var pageNum = parseInt(kids[i].childNodes[0].text) + 1;\r\n                }\r\n            }\r\n            tbody.innerHTML = _this.render(pageObj.data[pageNum - 1], pageObj.chartConfig, pageObj.drill);\r\n            _this.renderPagination(pageCount, pageNum, pageObj, dom);\r\n            //_this.clickPageNum(pageObj.data, pageObj.chartConfig);\r\n        });\r\n    };\r\n\r\n    public export(random, data) {\r\n        $(\".toolbar\" + random + \" .exportBnt\").on('click', function () {\r\n            var xhr = new XMLHttpRequest();\r\n            var formData = new FormData();\r\n            formData.append('data', JSON.stringify({data: data, type: 'table'}));\r\n            xhr.open('POST', 'dashboard/tableToxls.do');\r\n            xhr.responseType = 'arraybuffer';\r\n            xhr.onload = function (e) {\r\n                var blob = new Blob([this.response], {type: \"application/vnd.ms-excel\"});\r\n                var objectUrl = URL.createObjectURL(blob);\r\n                var aForExcel = $(\"<a><span class='forExcel'>下载excel</span></a>\").attr(\"href\", objectUrl);\r\n                aForExcel.attr(\"download\", \"table.xls\");\r\n                $(\"body\").append(aForExcel);\r\n                $(\".forExcel\").click();\r\n                aForExcel.remove();\r\n            };\r\n            xhr.send(formData);\r\n        });\r\n\r\n    };\r\n};"]}