{"version":3,"sources":["src/chart/render/tableRender.service.ts"],"names":[],"mappings":";;;AAAA,sCAA2C;AAC3C,qDAAqD;AACrD,mEAAiE;AACjE,0BAA4B;AAI5B;IAEI,kCACY,iBAAoC;QAApC,sBAAiB,GAAjB,iBAAiB,CAAmB;IAC7C,CAAC;IAMG,oDAAiB,GAAxB,UAAyB,WAAW,EAAE,OAAO,EAAE,KAAK;QAChD,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,CAAC,gBAAgB;QAC9C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,IAAI,CAAC;QACV,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC;YAChC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IAChB,CAAC;IAAA,CAAC;IAEK,yCAAM,GAAb,UAAc,SAAS;QACnB,IAAI,OAAO,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAClD,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAC7B,IAAI,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YACxC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;SAChC;IACL,CAAC;IAAA,CAAC;IAEK,qCAAE,GAAT,UAAU,IAAI,EAAE,OAAQ;QACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;QACxC,IAAI,SAAS,GAAG,IAAI,GAAG,GAAG,CAAC;QAC3B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,MAAM,GAAG,UAAU,CAAC,EAAE,WAAW;YACjC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;YAClB,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC;YACjC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzB,CAAC,CAAC;QACF,IAAI,IAAI,GAAG;YACP,IAAI,EAAE,SAAS;YACf,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW;YACrC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,MAAM;SACjB,CAAC;QACF,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC;YAClB,MAAM,EAAE,IAAI,GAAG,IAAI;SACtB,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5B,IAAI,OAAO,EAAE;YACT,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YACjC,OAAO,CAAC,IAAI,GAAG,OAAO,CAAA;SACzB;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAAA,CAAC;IA3DO,wBAAwB;QAFpC,iBAAU,EAAE;iDAKsB,sCAAiB;OAHvC,wBAAwB,CA4DpC;IAAD,+BAAC;CA5DD,AA4DC,IAAA;AA5DY,4DAAwB","file":"../../../../src/chart/render/tableRender.service.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n// import { crossTable } from '../common/crossTable';\r\nimport { CrossTableService } from '../common/crossTable.service';\r\nimport * as _ from 'lodash';\r\n\r\n@Injectable()\r\n\r\nexport class CBoardTableRenderService {\r\n\r\n    constructor (\r\n        private crossTableService: CrossTableService\r\n    ) {}\r\n\r\n    container;\r\n    options;\r\n    tall;\r\n    drill\r\n    public CBoardTableRender(jqContainer, options, drill) {\r\n        this.container = jqContainer; // jquery object\r\n        this.options = options;\r\n        this.tall;\r\n        this.drill = drill;\r\n        var _this = this;\r\n        $(this.container).resize(function (e) {\r\n            _this.resize(e.target);\r\n        });\r\n\r\n        return this;\r\n    };\r\n\r\n    public resize(container) {\r\n        var wrapper = $(container).find('.table_wrapper');\r\n        wrapper.css('width', 'auto');\r\n        if (wrapper.width() < $(container).width()) {\r\n            wrapper.css('width', '100%');\r\n        }\r\n    };\r\n    \r\n    public do(tall, persist?) {\r\n        this.tall = tall;\r\n        tall = _.isUndefined(tall) ? 500 : tall;\r\n        var divHeight = tall - 110;\r\n        var _this = this;\r\n        var render = function (o, drillConfig) {\r\n            _this.options = o;\r\n            _this.drill.config = drillConfig;\r\n            _this.do(_this.tall);\r\n        };\r\n        var args = {\r\n            tall: divHeight,\r\n            chartConfig: this.options.chartConfig,\r\n            data: this.options.data,\r\n            container: this.container,\r\n            drill: this.drill,\r\n            render: render\r\n        };\r\n        this.crossTableService.table(args);\r\n        $(this.container).css({\r\n            height: tall + \"px\"\r\n        });\r\n        this.resize(this.container);\r\n        if (persist) {\r\n            persist.data = this.options.data;\r\n            persist.type = \"table\"\r\n        }\r\n        return render;\r\n    };\r\n}"]}